#!/bin/env spartan-test
/*
 Make sure you have spartan-test in your path:
   mkdir -p ~/src ~/bin
   git clone git@github.com:parf/spartan-test.git ~/src
   ln -s ~/src/spartan-test/spartan-test ~/bin
*/
<?
// is 2+2 is it still 4?
2+2;
#=4
$c=1;
#=1
$c>0;
#=true
$a=array(1,2,3);
#=[1,2,3]
new ArrayObject($a);
#={"class":"ArrayObject","0":{"0":1,"1":2,"2":3}}
range(1,3);
#=[1,2,3]

$f=function() { throw new Exception("Oops...", 120); };
#={"class":"Closure","0":{}}
$f();
#=["Exception","Oops...",120]

// STDOUT
print("123");
#={"r":1,"out":"123"}

// php errors
trigger_error("trigger_error");
#={"USER NOTICE":"trigger_error","result":true}
1/0;
#={"WARNING":"Division by zero","result":false}

; $a=array();
$a["a"];
#={"NOTICE":"Undefined index: a","result":null}
$a[1];
#={"NOTICE":"Undefined offset: 1","result":null}

# at least php 5 required
substr(phpversion(), 0, 2)=='5.';
#=true

// suppress tests for this line
; time();
#?>
